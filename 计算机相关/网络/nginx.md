


```
ngx_http_upstream_add_variables-> ngx_http_upstream_vars-> ngx_http_upstream_status_variable()



ngx_http_upstream_process_header -> ngx_http_upstream_next -> 



u->state->status = status;
```


```
wget http://nginx.org/download/nginx-1.27.0.tar.gz

tar zxvf nginx-1.27.0.tar.gz

cd

./configure --with-debug

apt-get install libpcre2-dev libpcre3-dev
 apt-get install libssl-dev
apt-get install libpcre3 libpcre3-dev
apt-get install zlib1g zlib1g-dev

 apt-get install libxslt1-dev
 apt-get install libgd-dev

apt-get install build-essential libpcre3-dev libssl-dev libxslt1-dev libgd-dev libgeoip-dev
`libudev-dev`
libaio-dev

 libpcre3-dev 

apt-get install libssl-dev libxslt1-dev libgd-dev libgeoip-dev



libudev-dev 
libbsd-dev
`libevent-dev`
 `libdl-dev`
 libattr1-dev
 libprocps-dev
 libbsd-dev

libcrypt-dev
 libdl-dev
 `libsocket-dev`
 libiproute2-dev
 libthr-dev
 libsys-sem-dev

make

make install

/usr/local/nginx/sbin/nginx

/usr/local/nginx/conf/nginx.conf


gdb /usr/local/nginx/sbin/nginx <master_pid>

/usr/local/nginx/sbin/nginx -s stop
/usr/local/nginx/sbin/nginx -s reload 



```



```
ngx_http_index_handler -> 
ngx_http_upstream_process_header -> 
```